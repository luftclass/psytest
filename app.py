# --------------------------------------------------------------------------------
# [업데이트] 3. 데이터 정의 (부산/경남 소재 실제 학과 반영)
# --------------------------------------------------------------------------------

# 결과 데이터 (RIASEC 유형별 부산/경남 소재 실제 학과 10개씩 추천)
majors_mapping = {
    "R": {
        "title": "🔧 현실형 (Realistic) - 뚝딱뚝딱 엔지니어",
        "desc": "솔직하고 성실하며, 기계나 도구를 다루는 기술적 능력이 뛰어납니다.",
        "majors": [
            "부산대 | 기계공학부",
            "한국해양대 | 기관시스템공학부",
            "창원대 | 스마트제조융합전공",
            "부경대 | 냉동공조공학과",
            "인제대(김해) | 드론IoT시뮬레이션학부",
            "동아대 | 건축학과",
            "경상국립대 | 항공우주및소프트웨어공학부",
            "경남대 | 기계공학부",
            "동의대 | 소방방재행정학과",
            "한국폴리텍(창원) | 스마트전기과"
        ]
    },
    "I": {
        "title": "🔬 탐구형 (Investigative) - 논리적인 탐험가",
        "desc": "지적 호기심이 많고, 논리적이며 과학적인 탐구 활동을 선호합니다.",
        "majors": [
            "부산대 | 화공생명환경공학부",
            "UNIST(울산) | 에너지화학공학과",
            "인제대(김해) | 약학과",
            "경상국립대(진주) | 수의학과",
            "부경대 | 빅데이터융합전공",
            "동아대 | 생명과학과",
            "고신대 | 의예과",
            "부산대 | 물리학과",
            "창원대 | 컴퓨터공학과",
            "인제대(김해) | 임상병리학과"
        ]
    },
    "A": {
        "title": "🎨 예술형 (Artistic) - 창의적인 아티스트",
        "desc": "상상력이 풍부하고 감수성이 예민하며, 자유분방한 창의적 활동을 즐깁니다.",
        "majors": [
            "동서대 | 영상애니메이션학과",
            "부산대 | 시각디자인전공",
            "경성대 | 연극영화학부",
            "동아대 | 산업디자인학과",
            "창원대 | 웹툰전공",
            "부산예술대 | 실용음악과",
            "인제대(김해) | 웹툰영상학과",
            "경남대 | 미디어영상학과",
            "신라대 | 주얼리디자인학과",
            "영산대 | 패션디자인학과"
        ]
    },
    "S": {
        "title": "💛 사회형 (Social) - 따뜻한 멘토",
        "desc": "사람을 좋아하고 이해심이 많으며, 타인을 돕고 가르치는 활동에 보람을 느낍니다.",
        "majors": [
            "부산교대 | 초등교육과",
            "인제대(김해) | 간호학과",
            "부산대 | 특수교육과",
            "신라대 | 상담심리학과",
            "동의대 | 물리치료학과",
            "경남대 | 사회복지학과",
            "가야대(김해) | 특수교육과",
            "동명대 | 언어치료청각학과",
            "영산대 | 항공관광학과",
            "창원대 | 유아교육과"
        ]
    },
    "E": {
        "title": "🔥 진취형 (Enterprising) - 열정적인 리더",
        "desc": "리더십이 있고 외향적이며, 목표를 달성하고 타인을 설득하는 능력이 있습니다.",
        "majors": [
            "부산대 | 경영학과",
            "부경대 | 국제통상학부",
            "동아대 | 관광경영학과",
            "경성대 | 호텔관광외식경영학부",
            "해양대 | 해운경영학부",
            "경남대 | 경찰학부",
            "인제대(김해) | 경영학부",
            "동의대 | 신문방송학과",
            "부산외대 | 마케팅학부",
            "영산대 | 경찰행정학과"
        ]
    },
    "C": {
        "title": "📋 관습형 (Conventional) - 꼼꼼한 매니저",
        "desc": "정확하고 빈틈이 없으며, 체계적인 정리와 데이터 관리에 능숙합니다.",
        "majors": [
            "부경대 | 통계·데이터사이언스전공",
            "부산대 | 문헌정보학과",
            "동아대 | 금융학과",
            "경상국립대 | 회계세무학부",
            "인제대(김해) | 보건행정학과",
            "창원대 | 세무학과",
            "동의대 | 물류시스템공학과",
            "부산외대 | 회계·세무무역학부",
            "동서대 | 정보보호학과",
            "부산가톨릭대 | 병원경영학과"
        ]
    }
}

# (중간 코드 생략: 로직 함수 등은 기존과 동일)

# --------------------------------------------------------------------------------
# [업데이트] 결과 출력 부분 (Test 2 영역)
# --------------------------------------------------------------------------------
# ... 위쪽 코드 생략 ...

        # [Test 2 결과 처리] 진로 학과
        elif st.session_state.page == 'test2':
            st.balloons()
            scores = st.session_state.riasec_scores
            sorted_scores = sorted(scores.items(), key=lambda x: x[1], reverse=True)
            top_type = sorted_scores[0][0]
            second_type = sorted_scores[1][0]
            
            result_data = majors_mapping[top_type]
            
            st.markdown(f"### 🏆 당신의 핵심 유형: **{result_data['title']}**")
            st.info(f"💡 **유형 특징:** {result_data['desc']}")
            
            st.divider()
            
            st.markdown(f"### 🏫 부산/경남권 추천 학과 (Top 10)")
            st.markdown(f"학생의 **'{top_type}'** 성향에 적합한 우리 지역(부산/경남/김해) 실제 학과입니다.")
            
            # 카드 형태로 깔끔하게 출력
            for major in result_data['majors']:
                univ, dept = major.split("|")
                st.markdown(f"""
                <div style="padding: 10px; border: 1px solid #ddd; border-radius: 5px; margin-bottom: 8px; background-color: #f9f9f9;">
                    <span style="font-weight:bold; color: #2C3E50;">{univ.strip()}</span> 
                    <span style="float:right; color: #3498DB; font-weight:bold;">{dept.strip()}</span>
                </div>
                """, unsafe_allow_html=True)
            
            st.markdown("")
            st.caption(f"※ 2순위 추천 유형: {majors_mapping[second_type]['title']}")

        st.markdown("---")
        if st.button("🏠 메인 화면으로 돌아가기"):
            go_home()
